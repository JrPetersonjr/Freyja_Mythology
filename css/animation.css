/* Freyja Codex â€“ Animation
   Page curl, fire-kiss, subtle movement. */

.codex-page--turn {
  transform-origin: left center;
  transform: rotateY(0deg);
  backface-visibility: hidden;
}

/* Basic animation classes; JS will control timing & state */

.codex-page--turning-forward {
  animation: codex-page-turn-forward 0.9s cubic-bezier(0.28, 0.11, 0.32, 1.0) forwards;
}

.codex-page--turning-backward {
  animation: codex-page-turn-backward 0.9s cubic-bezier(0.28, 0.11, 0.32, 1.0) forwards;
}

@keyframes codex-page-turn-forward {
  0% {
    opacity: 1;
    transform: rotateY(0deg);
  }
  45% {
    transform: rotateY(-90deg);
  }
  100% {
    opacity: 0;
    transform: rotateY(-180deg);
  }
}

@keyframes codex-page-turn-backward {
  0% {
    opacity: 1;
    transform: rotateY(-180deg);
  }
  55% {
    transform: rotateY(-90deg);
  }
  100% {
    opacity: 0;
    transform: rotateY(0deg);
  }
}

/* Fire-kiss overlay */

.codex-fire-kiss {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 100% 50%, rgba(255, 189, 97, 0.55), transparent 65%),
    radial-gradient(circle at 80% 20%, rgba(255, 240, 210, 0.25), transparent 60%);
  mix-blend-mode: screen;
  opacity: 0;
  transition: opacity 0.15s ease-out;
}

}

.codex-fire-kiss--active {
  animation: codex-fire-kiss-pulse 0.6s ease-out forwards;
}

@keyframes codex-fire-kiss-pulse {
  0% {
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
  }
}

/* Nav controls (can be hidden later if only tabs are used) */

.codex-nav-controls {
  position: absolute;
  bottom: 4%;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 1rem;
  align-items: center;
}

.codex-nav-button {
  padding: 0.35rem 0.9rem;
  background: rgba(24, 10, 6, 0.9);
  border-radius: 999px;
  border: 1px solid rgba(209, 172, 90, 0.8);
  color: #f3d79c;
  font-size: 0.8rem;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  text-indent: 0.12em;
}

.codex-page-indicator {
  font-size: 0.8rem;
  color: #f3d79c;
}
